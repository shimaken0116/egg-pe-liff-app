# PROGRAM EGG LINE拡張アプリケーション

## 1. 概要

このプロジェクトは、会員制エンタメレッスンサービス「PROGRAM EGG」の会員向けに、LINE公式アカウントの機能を拡張するアプリケーションを開発するものです。Lステップなどの既存サービスを参考に、会員とのコミュニケーションを円滑にし、エンゲージメントを高めることを目的とします。

## 2. 主な機能 (MVP)

### 2.1. 顧客管理 (CRM)
- **友だち情報管理:** LINEの友だち情報をFirestoreに保存し、会員情報と紐付けます。
- **タグ・カスタムフィールド:** 「受講クラス」などの情報をタグとして管理し、柔軟な顧客セグメントを作成します。
- **対応ステータス管理:** 会員からの問い合わせ状況などを管理します。

### 2.2. メッセージング
- **セグメント配信:** 「受講クラス」などのタグ情報を元に、ターゲットを絞り込んだメッセージを配信します。
- **チャットボット:** 簡単なキーワードに対して自動で応答するチャットボットを設置します。

### 2.3. コンテンツ
- **動的リッチメニュー:** 「受講クラス」などの会員属性に応じて、表示されるリッチメニューを動的に切り替えます。
- **LIFFフォーム:** 特別レッスンの申し込みやアンケートなどに利用できるWebフォームをLIFFアプリとして提供します。

### 2.4. 管理者ページ
- **顧客管理機能:** 会員の一覧表示、プロフィール、タグ、対応ステータスの確認・編集機能。
- **メッセージ配信機能:** 管理画面からセグメントを選択し、手動でメッセージを配信する機能。
- **フォーム管理機能:** LIFFフォームからの申込内容を一覧で確認する機能。

## 3. 技術スタック
- **バックエンド:** Cloud Functions for Firebase (Node.js)
- **データベース:** Cloud Firestore
- **フロントエンド (LIFF):** Firebase Hosting
- **LINE連携:** Messaging API

## 4. プロジェクト構成
```
egg-pe-liff-app/
├── functions/      # Cloud Functions for Firebase
│   ├── index.js    # メインの処理
│   └── package.json
├── public/         # Firebase Hosting (LIFFアプリ)
│   ├── admin/      # 管理者ページ用ファイル
│   │   └── index.html
│   └── index.html  # LIFFアプリのHTML
├── firebase.json   # Firebase設定
└── .gitignore      # Git管理対象外設定
``` 